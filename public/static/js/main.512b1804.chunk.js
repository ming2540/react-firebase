(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),c=t(60),l=t.n(c),r=(t(66),t(5)),o=t(6),i=t(8),m=t(7),u=t(9),d=function(e){function a(){return Object(r.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement("a",{className:"navbar-item",href:"http://bulma.io"},this.props.title)))}}]),a}(n.Component),b=t(10),p={float:"right"},h=function(e){var a=e.children,t=e.updateFunction,n=e.closeModal,c=e.modalState,l=e.title;return c?s.a.createElement("div",{className:"modal is-active"},s.a.createElement("div",{className:"modal-background",onClick:n}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},l),s.a.createElement("button",{className:"delete",onClick:n})),s.a.createElement("section",{className:"modal-card-body"},s.a.createElement("div",{className:"content"},a)),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{className:"button is-success",onClick:t},"Save changes"),s.a.createElement("button",{className:"button",onClick:n},"Cancel")))):null},g=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).onClickDelete=t.onClickDelete.bind(Object(b.a)(t)),t.onChange=t.onChange.bind(Object(b.a)(t)),t.updateFunction=t.updateFunction.bind(Object(b.a)(t)),t.state={modalState:!1,messageUpdate:e.msg},t.toggleModal=t.toggleModal.bind(Object(b.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"toggleModal",value:function(){this.setState(function(e,a){return{modalState:!e.modalState}})}},{key:"updateFunction",value:function(e){var a=this;e.preventDefault();var t={message:this.state.messageUpdate};this.props.db.database().ref("/messages").child(this.props.msgKey).update(t).then(function(){return a.toggleModal()})}},{key:"onClickDelete",value:function(e){e.preventDefault(),this.props.db.database().ref("/messages").child(this.props.msgKey).remove()}},{key:"onChange",value:function(e){this.setState({messageUpdate:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.message,s.a.createElement("a",{style:p,className:"button is-danger",onClick:this.onClickDelete},"Delete"),s.a.createElement("a",{style:p,className:"button is-info",onClick:this.toggleModal},"Update"),s.a.createElement(h,{updateFunction:this.updateFunction,closeModal:this.toggleModal,modalState:this.state.modalState,title:"Edit Message"},s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Message"),s.a.createElement("td",null,s.a.createElement("textarea",{className:"textarea",placeholder:"Comment",cols:"100",onChange:this.onChange,value:this.state.messageUpdate}))))))}}]),a}(n.Component),v=t(46),f=t.n(v),E=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={messages:[]},t.props.db.database().ref("messages").on("value",function(e){t.getData(e.val())}),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"getData",value:function(e){var a=e,t=f()(a).keys().map(function(e){var t=f.a.clone(a[e]);return t.key=e,t}).value();this.setState({messages:t})}},{key:"render",value:function(){var e=this,a=this.state.messages.map(function(a){return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement(g,{msgKey:a.key,message:a.message,db:e.props.db})))});return s.a.createElement("div",null,a)}}]),a}(n.Component),j=t(47),y=t.n(j),O=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).onChange=t.onChange.bind(Object(b.a)(t)),t.onKeyup=t.onKeyup.bind(Object(b.a)(t)),t.state={message:""},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"onChange",value:function(e){this.setState({message:e.target.value})}},{key:"onKeyup",value:function(e){13===e.keyCode&&""!==y()(e.target.value)&&(e.preventDefault(),this.props.db.database().ref("/messages").push({message:y()(e.target.value)}),this.setState({message:""}))}},{key:"render",value:function(){return s.a.createElement("form",null,s.a.createElement("textarea",{className:"textarea",placeholder:"Type a message",cols:"100",onChange:this.onChange,onKeyUp:this.onKeyup,value:this.state.message}))}}]),a}(n.Component),k=t(33),C=t.n(k),N=function(e){function a(e){var t;Object(r.a)(this,a),t=Object(i.a)(this,Object(m.a)(a).call(this,e));return C.a.initializeApp({apiKey:"AIzaSyBuACzE0RHHMxbYziUjqBWjD5pKhqbJzlA",authDomain:"react-firebase-41e41.firebaseapp.com",databaseURL:"https://react-firebase-41e41.firebaseio.com",projectId:"react-firebase-41e41",storageBucket:"react-firebase-41e41.appspot.com",messagingSenderId:"654955754598"}),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(d,{title:"Simple Firebase App"}),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-3"}),s.a.createElement("div",{className:"column is-6"},s.a.createElement(E,{db:C.a}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-3"}),s.a.createElement("div",{className:"column is-6"},s.a.createElement(O,{db:C.a}))))}}]),a}(n.Component);l.a.render(s.a.createElement(N,null),document.getElementById("root"))},61:function(e,a,t){e.exports=t(121)},66:function(e,a,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.512b1804.chunk.js.map